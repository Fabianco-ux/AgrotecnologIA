<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AgrotecnologIA</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
  <header class="app-header">
    <div class="brand">AgrotecnologIA</div>
    <nav class="nav">
      <a href="#dashboard" class="nav-link" data-route>Panel</a>
      <a href="#control" class="nav-link" data-route>Control de Cultivos</a>
      <a href="#analisis" class="nav-link" data-route>An√°lisis y Rendimiento</a>
      <a href="#sostenibilidad" class="nav-link" data-route>Sostenibilidad e IA</a>
    </nav>
  </header>

  <main id="app">
    <!-- P√°gina 1: Dashboard -->
    <section id="dashboard" class="view">
      <h1>AgrotecnologIA ‚Äî el sitio donde se une la agricultura sostenible y la tecnolog√≠a inteligente</h1>
      <p class="demo-note">üìå Datos simulados (DEMO, no datos reales).</p>
      <div class="cards">
        <div class="card">
          <div class="card-icon">üìà</div>
          <div class="card-title">Rendimiento General</div>
          <div class="card-sub">Evaluaci√≥n estimada del estado de los cultivos</div>
          <div class="card-value" id="card-rendimiento">Estable</div>
        </div>
        <div class="card">
          <div class="card-icon">‚öôÔ∏è</div>
          <div class="card-title">Uso de Insumos</div>
          <div class="card-sub">Nivel de eficiencia de fertilizantes y recursos</div>
          <div class="card-value" id="card-insumos">Alta eficiencia</div>
        </div>
        <div class="card">
          <div class="card-icon">üå¶Ô∏è</div>
          <div class="card-title">Riesgo Clim√°tico</div>
          <div class="card-sub">Evaluaci√≥n preventiva basada en registros</div>
          <div class="card-value" id="card-riesgo">Bajo</div>
        </div>
        <div class="card">
          <div class="card-icon">üåø</div>
          <div class="card-title">Sostenibilidad</div>
          <div class="card-sub">Indicador ambiental estimado</div>
          <div class="card-value" id="card-sostenibilidad">Bueno</div>
        </div>
      </div>
    </section>

    <!-- P√°gina 2: Control de Cultivos -->
    <section id="control" class="view hidden">
      <h2>Control de Cultivos</h2>
      <form id="cultivo-form" class="form">
        <fieldset class="form-group">
          <legend>Informaci√≥n general</legend>
          <div class="grid-2">
            <label>
              Nombre del cultivo
              <input type="text" name="nombre" placeholder="Ej. Ma√≠z" required />
            </label>
            <label>
              Tipo de cultivo
              <select name="tipo" required>
                <option value="">Selecciona‚Ä¶</option>
                <option>Grano</option>
                <option>Hortaliza</option>
                <option>Frutal</option>
                <option>Forrajero</option>
                <option>Industrial</option>
              </select>
            </label>
            <label>
              Ubicaci√≥n / lote
              <input type="text" name="ubicacion" placeholder="Ej. Lote 12" required />
            </label>
            <label>
              √Årea sembrada (ha)
              <input type="number" name="area" min="0" step="0.01" required />
            </label>
          </div>
        </fieldset>

        <fieldset class="form-group">
          <legend>Fechas clave</legend>
          <div class="grid-2">
            <label>
              Fecha de siembra
              <input type="date" name="siembra" required />
            </label>
            <label>
              Fecha estimada de cosecha
              <input type="date" name="cosecha" required />
            </label>
          </div>
        </fieldset>

        <fieldset class="form-group">
          <legend>Control de insumos</legend>
          <div class="grid-2">
            <label>
              Tipo de fertilizaci√≥n
              <input type="text" name="fertilizacion" placeholder="Ej. NPK" />
            </label>
            <label>
              Cantidad aplicada
              <input type="number" name="cantidad" min="0" step="0.01" />
            </label>
            <label>
              Frecuencia de riego
              <select name="frecuencia">
                <option value="">Selecciona‚Ä¶</option>
                <option>Diaria</option>
                <option>Semanal</option>
                <option>Quincenal</option>
              </select>
            </label>
            <label>
              Tipo de riego
              <select name="tipoRiego">
                <option value="">Selecciona‚Ä¶</option>
                <option>Manual</option>
                <option>Goteo</option>
                <option>Aspersi√≥n</option>
              </select>
            </label>
          </div>
        </fieldset>

        <fieldset class="form-group">
          <legend>Control fitosanitario</legend>
          <div class="grid-2">
            <label>
              Presencia de plagas
              <select name="plagas">
                <option>No</option>
                <option>S√≠</option>
              </select>
            </label>
            <label>
              Tipo de plaga
              <input type="text" name="tipoPlaga" placeholder="Ej. Gusano cogollero" />
            </label>
            <label>
              Tratamiento aplicado
              <input type="text" name="tratamiento" placeholder="Ej. BT biol√≥gico" />
            </label>
          </div>
        </fieldset>

        <fieldset class="form-group">
          <legend>Observaciones</legend>
          <textarea name="observaciones" rows="4" placeholder="Notas t√©cnicas‚Ä¶"></textarea>
        </fieldset>

        <div class="actions">
          <button type="submit" class="primary">Registrar control</button>
        </div>
      </form>

      <dialog id="resumen-dialog" class="dialog">
        <div class="dialog-content">
          <h3>Resumen del registro</h3>
          <div id="resumen-content"></div>
          <div class="actions">
            <button id="cerrar-resumen" class="secondary">Cerrar</button>
          </div>
        </div>
      </dialog>
    </section>

    <!-- P√°gina 3: An√°lisis y Rendimiento -->
    <section id="analisis" class="view hidden">
      <h2>An√°lisis y Rendimiento</h2>
      <p>Seg√∫n los registros ingresados, el cultivo presenta un comportamiento estable.</p>
      <div class="grid-2">
        <div class="panel">
          <h3>Rendimiento estimado</h3>
          <canvas id="chartRendimiento"></canvas>
        </div>
        <div class="panel">
          <h3>Uso de recursos</h3>
          <canvas id="chartRecursos"></canvas>
        </div>
      </div>
      <div class="cards">
        <div class="card small">
          <div class="card-title">√çndice de rendimiento</div>
          <div class="card-value" id="indice-rend">78%</div>
        </div>
        <div class="card small">
          <div class="card-title">Eficiencia de insumos</div>
          <div class="card-value" id="eficiencia-insumos">82%</div>
        </div>
      </div>
    </section>

    <!-- P√°gina 4: Sostenibilidad e IA -->
    <section id="sostenibilidad" class="view hidden">
      <h2>Sostenibilidad e IA</h2>
      <div class="grid-2">
        <div class="panel">
          <h3>Pr√°cticas sostenibles recomendadas</h3>
          <ul class="list">
            <li>Uso responsable del agua (riego por goteo y monitoreo de humedad)</li>
            <li>Coberturas vegetales para cuidado del suelo</li>
            <li>Rotaci√≥n de cultivos y manejo integrado de plagas</li>
            <li>Fertilizaci√≥n basada en an√°lisis de suelo</li>
          </ul>
        </div>
        <div class="panel">
          <h3>Mensaje IA</h3>
          <p>‚ÄúLa estrategia actual favorece la sostenibilidad a mediano plazo.‚Äù</p>
        </div>
      </div>

      <div class="panel">
        <h3>Ideas generadas por IA (simuladas)</h3>
        <form id="ia-form" class="form compact">
          <label>
            Tema o necesidad
            <input type="text" name="prompt" placeholder="Ej. ideas de negocio en agrotech" />
          </label>
          <div class="actions">
            <button type="submit" class="primary">Generar ideas</button>
          </div>
        </form>
        <div id="ia-output" class="ia-output"></div>
        <p class="demo-note">Si configuras el backend y `DEEPSEEK_API_KEY`, puede intentar llamar al proxy.</p>
      </div>
    </section>
  </main>

  <footer class="app-footer">¬© 2026 AgrotecnologIA ‚Äî DEMO</footer>

  <script src="app.js"></script>
</body>
</html>